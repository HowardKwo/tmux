#!/bin/bash

# æ£€æŸ¥æ˜¯å¦åœ¨ tmux session ä¸­
if ! tmux has-session 2>/dev/null; then
  echo "Not in a tmux session. Exiting."
  exit 1
fi

# æ£€æŸ¥æ˜¯å¦ä¼ å…¥äº†å‚æ•°
if [ $# -eq 0 ]; then
  echo "No window number provided. Exiting."
  exit 1
fi

# è·å–çª—å£å·ï¼ˆä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼‰
window_num=$1






# æ ¹æ®çª—å£å·å†³å®šçª—å£åç§°
case $window_num in
  0)
    window_name="ğŸ’»"
    ;;
  1)
    window_name="ğŸš‚"
    ;;
  2)
    window_name="ğŸª²"
    ;;
  3)
    window_name="ğŸ–¼ï¸"
    ;;
  4)
    window_name="ğŸ“¡"
    ;;
  5)
    window_name="ğŸ“"
    ;;
  *)
    # å¦‚æœä¸æ˜¯ 0 åˆ° 5 ä¹‹é—´çš„æ•°å­—ï¼Œä»€ä¹ˆä¹Ÿä¸åš
    exit 0
    ;;
esac

# æ£€æŸ¥æŒ‡å®šçš„çª—å£æ˜¯å¦å­˜åœ¨
if tmux list-windows -t :$window_num >/dev/null 2>&1; then
  # è·å–æŒ‡å®šçª—å£çš„åç§°
  current_window_name=$(tmux display-message -p -t :$window_num '#W')

  # å¦‚æœçª—å£åç§°ä¸åŒ¹é…ï¼Œé‡å‘½åçª—å£
  if [ "$current_window_name" != "$window_name" ]; then
    tmux rename-window -t :$window_num "$window_name"
  fi

  # åˆ‡æ¢åˆ°æŒ‡å®šçª—å£
  tmux select-window -t :$window_num
else
  # å¦‚æœçª—å£ä¸å­˜åœ¨ï¼Œåˆ›å»ºå¹¶å‘½åä¸ºæŒ‡å®šåç§°
  tmux new-window -t :$window_num -n "$window_name"
  # åˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„çª—å£
  tmux select-window -t :$window_num
fi

